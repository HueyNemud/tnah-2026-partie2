
if __name__ == "__main__":
    """
    POINT D'ENTR√âE DU SCRIPT
    Ce bloc orchestre l'enrichissement des donn√©es : il lit les fichiers locaux,
    va chercher les informations manquantes √† la BnF, et fusionne le tout.
    """

    # --- √âTAPE 1 : R√âGLAGES ET CHEMINS (CONFIGURATION)
    base_dir = Path(__file__).parent
    input_dir = base_dir / "photographies"
    output_dir = base_dir / "photographies_avec_themes"

    # S√©curit√© : limiter le nombre de requ√™tes pour les tests (None pour tout traiter)
    graph_processing_limit = 1

    # --- √âTAPE 2 : PR√âPARATION DES OUTILS (INITIALISATION)

    # On s'assure que le dossier de sortie existe pour ne pas faire planter le script
    os.makedirs(output_dir, exist_ok=True)

    # Connexion au point d'acc√®s SPARQL de la BnF
    databnf = setup_bnf_sparql_wrapper()

    # On r√©cup√®re la liste de tous les fichiers .ttl √† traiter
    turtle_files = list(input_dir.glob("*.ttl"))

    # Application de la limite si elle est d√©finie
    if graph_processing_limit:
        turtle_files = turtle_files[:graph_processing_limit]

    print(f"{len(turtle_files)} fichiers Turtle √† traiter dans {input_dir}.")

    # --- √âTAPE 3 : BOUCLE PRINCIPALE DE TRAITEMENT

    for turtle_photo_file in turtle_files:

        print(f"D√©but de l'enrichissement pour : {turtle_photo_file.name}")

        try:
            
            #¬†-------------------
            # üèóÔ∏è Impl√©mentez l'algorithme principal ici !
            #¬†-------------------

            print(f"R√©ussite : {turtle_photo_file.name} enrichi.")

        except Exception as e:
            print(f"√âchec pour {turtle_photo_file.name} : {e}")
